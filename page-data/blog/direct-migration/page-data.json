{"componentChunkName":"component---src-pages-blog-mdx-slug-js","path":"/blog/direct-migration/","result":{"data":{"mdx":{"id":"54d9c5f1-8225-54fa-930c-37662b36595a","slug":"direct-migration/","body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"author\": \"dmurray\",\n  \"date\": \"2021-02-24T07:00:00.000Z\",\n  \"description\": \"In MTC 1.4.0, a new feature called Direct Migration is available that will yield significant time savings for most customers migrating persistent volumes and/or internal images.\",\n  \"featured\": false,\n  \"image\": \"banner.jpg\",\n  \"tags\": [\"MTC\"],\n  \"title\": \"Migrating Faster with Direct Migration\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In MTC 1.4.0, a new feature called Direct Migration is available that will yield significant time savings for most customers migrating persistent volumes and/or internal images. Direct Migration enables the migration of persistent volumes and internal images directly from the source cluster to the destination cluster without an intermediary replication repository. This introduces a significant performance enhancement while also providing better error and progress reporting information back to the end-user.\"), mdx(\"p\", null, \"Prior MTC releases only allowed a 2 step backup and restore process when handling images and persistent volumes, which didn\\u2019t take advantage of potential performance savings in the case of a migration with both the source and destination clusters having network connectivity. The prior process leveraged a filesystem copy tool called Restic integrated with Velero. MTC would need to copy PV and Image data twice: once from the source cluster to the replication repository, and a second time from the replication repository to the destination cluster. This process yielded flexibility for various environments, yet failed to take advantage of the more common case in a migration of direct network connectivity between clusters.\"), mdx(\"p\", null, \"With Direct Migration in MTC 1.4, we are able to take advantage of any environments that have network connectivity between the clusters involved in the migration by handling the migration of PV data and Image data in a new way. Assuming remote clusters have exposed routes to enable external access to the internal registry, MTC will push internal images directly into the internal registry on the destination cluster from the source cluster. Assuming the clusters can communicate over port 443 via OpenShift routes, MTC will directly migrate Persistent Volume data from a source cluster to a destination cluster using a set of Rsync + Stunnel pods which we will describe more below.\"), mdx(\"h2\", {\n    \"id\": \"prerequisites\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Prerequisites\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#prerequisites\",\n    \"aria-label\": \"prerequisites permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentColor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"As mentioned above for direct image migrations, it is important for remote source and destination clusters internal registries be exposed for external network traffic.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://docs.openshift.com/container-platform/4.6/registry/securing-exposing-registry.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"noopener noreferrer\"\n  }, \"expose OCP 4 cluster registry\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://docs.openshift.com/container-platform/3.11/install_config/registry/securing_and_exposing_registry.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"noopener noreferrer\"\n  }, \"expose OCP 3 cluser registry\"))), mdx(\"p\", null, \"For direct volume migrations, the source and destination clusters must be able to communicate over port 443 via OpenShift routes. MTC will create a route in each namespace to be migrated on the destination cluster and will be migrating the data by establishing an Rsync connection to this route. This means that the OpenShift routes must be accessible by the source cluster.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/577f410f2da95f76b6bb02351bcf2c87/2bef9/mtc-cluster.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4ElEQVQoz42SbXOiMBDH/f6fx+mb3nW05xMioIihiBgIGKrIY8BDEuEGsFx7j93ZyWT2v7/dzG561UfLCzoBzmzrLfYhbwSLfTg3giUMrgWrfrNedyubM86uQ+XwuNBnW28E8Fh1Od2bG0GW0y7nr3ByuX7b4P5YmWrHZ8UerKyJduSN4PIZOE7zBYw4/TRR3bl+lhCRrGSxDz/XObuO1OPT0hrI9vjlyMNYROm8hot/wa0xdtNxpFhnYJ0B8rc41tzEPBF2u/1hYGX5a73/Wvm+c1mWlDFK715QWpZlE6/e1FunUspatYZD8p3XsIIigBNwSMCBKA5BXto2CMmFUx3JOKmYNGqiOEmn9pCXDjeuYMYiIiIi/D6c6r4EfUbrXwHd8FGEI+CKFmkTBETWdtyOoHcIMsEiSzuVUH1yuvdFMCTjxFgN77H/tELznSeacb22ht84HexnPIyWdi2snGwoWw9TwKnOjdWy+Rr2J5uvgiHASGoaiIgoHWyfMw7Gkl1Hl042kNHDTJu9uLvdzjIhgLg/UZ/XTvvm+7NRzJrSvTDNZRSt7bj1zYGor5et48vyysXYTy6qmwGcdgkrFJseuQ+sqqp6E29eUEoZy/Nc0zTTNIuiYIw1wZ853ap+ANZTRwUu51dVAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"picture\", {\n    parentName: \"a\"\n  }, \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/577f410f2da95f76b6bb02351bcf2c87/e88ff/mtc-cluster.webp 600w\", \"/static/577f410f2da95f76b6bb02351bcf2c87/a9a89/mtc-cluster.webp 1024w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  }), \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/577f410f2da95f76b6bb02351bcf2c87/0a47e/mtc-cluster.png 600w\", \"/static/577f410f2da95f76b6bb02351bcf2c87/2bef9/mtc-cluster.png 1024w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  }), \"\\n          \", mdx(\"img\", {\n    parentName: \"picture\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/577f410f2da95f76b6bb02351bcf2c87/2bef9/mtc-cluster.png\",\n    \"alt\": \"Configuration of 3 clusters running MTC\",\n    \"title\": \"Configuration of 3 clusters running MTC\",\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  }), \"\\n        \"), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"The above diagram shows a configuration of 3 clusters running MTC. The Host cluster does not need to be its own cluster and could be the source or the destination cluster.\"), mdx(\"h2\", {\n    \"id\": \"direct-image-migration-details\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Direct Image Migration Details\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#direct-image-migration-details\",\n    \"aria-label\": \"direct image migration details permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentColor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"In direct image migration (DIM), the Migration Controller pod creates a DIM resource that contains a list of namespaces to migrate. The DIM controller then finds all of the imagestreams with internal image references in those namespaces and copies them directly into the destination registry. In order for this to succeed, DIM also ensures the namespace exists on the destination cluster prior to the copy.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/89c5d195d7a76961056e2ed9650501db/2bef9/dim.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACQ0lEQVQoz41SXXOaQBT1/z/1pX+gncz0IW2madNpY9OYGAWBJQKCAvKxogiCgPKhwO7aMTamTduZnIednTv3zLlzzmns/sS2qrvKlNYCzoxZI+LMmDGivhWVFdr9hcbxRx7eVV7eDGZNTqe1xZ0y6wznPT1gjCjf1sed/5LXRdmW3c8diVLD9sBtCXZX9VkjKl5CXmVbzkp6enArG10N3k/Se7jmzPhlynnZHnotwT3tvfsATjgr5ScZY8b5ptrvPOI5+QCEsO7GMlwKtiHAsTZfq+7aXqQI438YRsjzYw4KdYXQbw77vg8htG17MpkURfGkTAhBCCGMMSZ1XdeoLstSVdXpbEoIeRgTTdMA4BVFgRBuDmSya8TpBugeO5o3KZmS4dDNh+7W8lJRFBRF9sMVqy76ZtS3Qkady9N05G2my+JgUcMJsh+Ccwnkj7egyZnU2LkagbYiCX1BEsWBYZ6zN00RALhizaSjwjvVvTeX+MGChhttaCM8Y99dSrfAzL9LvbftV1+Fs9nU9eY+q3An1OsL6T2t+5TmndJvmhI1mKQI7+1ozKKC0kPGmnN2AOz1tWB86gJ6aGG8P8wJkvMu+MYNaG3BwxVre6wVivajsrPMO1oI7BTYKWvFLdH5Quu8EdX1vhWTRXpBaS3RYcyYNRPezjg75c3wFznJS94Ibvrja6BxY19xU9nNYJAdLEmyreKmiptKzooZza4YpTOAppc8RYUQRmSHyQ5hUtWoqutjh3ZkH161zw8hTA47x4b9BMnPOSA7GciiAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"picture\", {\n    parentName: \"a\"\n  }, \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/89c5d195d7a76961056e2ed9650501db/e88ff/dim.webp 600w\", \"/static/89c5d195d7a76961056e2ed9650501db/a9a89/dim.webp 1024w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  }), \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/89c5d195d7a76961056e2ed9650501db/0a47e/dim.png 600w\", \"/static/89c5d195d7a76961056e2ed9650501db/2bef9/dim.png 1024w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  }), \"\\n          \", mdx(\"img\", {\n    parentName: \"picture\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/89c5d195d7a76961056e2ed9650501db/2bef9/dim.png\",\n    \"alt\": \"Clusters using DIM for migration\",\n    \"title\": \"Clusters using DIM for migration\",\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  }), \"\\n        \"), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"The above diagram shows how DIM orchestrates the migration of an imagestream backed by the internal registry directly from the source cluster to the destination cluster.\"), mdx(\"h2\", {\n    \"id\": \"direct-volume-migration-details\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Direct Volume Migration Details\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#direct-volume-migration-details\",\n    \"aria-label\": \"direct volume migration details permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentColor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"For Direct Volume Migration, or DVM, the DVM controller takes in a list of PVCs to migrate and performs a few steps prior to copying the data over. For DVM to work, it is necessary for the source and destination clusters to be able to communicate over port 443 via OCP routes which are created by DVM.\"), mdx(\"p\", null, \"First, DVM sets up the needed configuration configmaps and secrets across all the namespaces to migrate and then creates transfer pods on the destination cluster in each namespace to be migrated. The transfer pods on the destination include both rsyncd and stunnel containers. Stunnel is used to open up a communication tunnel between the source and destination. The rsyncd container has volume mounts to all PVCs in the namespace which are to be migrated. An rsync client pod is created on the source (1 per PVC) to then rsync the data via the stunnel route.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/e36591943ea45b31b64bfda233b1e452/2bef9/migrating.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZElEQVQoz32SC2+bMBSF8/+l/YZJnbS1mrqtk7a1WtMnzQMYCWAeTsC8EkgDwQkkbcA2TGlYq2nVjizrSsefzr22W/Xf2pako096o1hEWLBTEWHeTodOWpS0/ket56p62leb4hpMfoqj3ijm9PDOiPrjmLfTzZY8n3kFrv/At1r0rWN24fwGBFey14H3gp0+/B9+ThachIMWZwS8tRj4+cDLRAdvtmVd16xq9AITQoqiKMqSlEW62rYBOODenA0GHZgKzlLy1zxq4FeSXddVVRVCOB6P4yQdR7FoA+BFRoBH4QqGmRev8XIZhmEYRdPpFGO8D29VO9jTdd2yLAhHCKH6NYVhqKqqoqqyLJuGQQhpkh3HkWVFURSgaRjjoiyqilV1vR+NMUYrliSJ67qO6yKE5vN50/Zy/XgHvF/W/QAlkh2b0aMRFX682Q+YZg8inMsIm9Hmaa31cBMkjdvy4/xSnQoOlrwNjxYn/fZn8YuAHEp3tjNL3p5+OO596li+gFaCs+zbqeJhytgOniR538K8PTu8fXelwu8C/1U8H/pTSnbwdJEdc+0f0vWd6R9x7290XbBXqp+yPRzEec/C8iQ7VS66o0lnhM6BJPtzSnf2JMkuNO0WarydnMqXgjeRvLXq4wb245yD8a0WdsyFiLIT/uyod9AeSooMDF0bmNYh9/GYP+xaIW/l12DKmTPFXzZt4/VWsuOeEfSMYOguQJCBYA2DhaoosyharB5AkIMgVzwsjKOu7vfhzJ3nzYXVdU0ZY1XNqppQVhJCGN0WWwih4zhlWVJGS0oIpZTtHpCyl+/5GzHfMgxjGnpyAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"picture\", {\n    parentName: \"a\"\n  }, \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/e36591943ea45b31b64bfda233b1e452/e88ff/migrating.webp 600w\", \"/static/e36591943ea45b31b64bfda233b1e452/a9a89/migrating.webp 1024w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  }), \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/e36591943ea45b31b64bfda233b1e452/0a47e/migrating.png 600w\", \"/static/e36591943ea45b31b64bfda233b1e452/2bef9/migrating.png 1024w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  }), \"\\n          \", mdx(\"img\", {\n    parentName: \"picture\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/e36591943ea45b31b64bfda233b1e452/2bef9/migrating.png\",\n    \"alt\": \"MTC orchestrating a direct migration\",\n    \"title\": \"MTC orchestrating a direct migration\",\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  }), \"\\n        \"), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"The above diagram shows how MTC orchestrates a direct volume migration by standing up a set of rsync and stunnel pods to directly migrate the PV data from the source to the destination cluster.\"), mdx(\"h2\", {\n    \"id\": \"conclusion\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Conclusion\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#conclusion\",\n    \"aria-label\": \"conclusion permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentColor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"In MTC 1.4.0, users can expect significant performance enhancements when direct migration is taken advantage of. The direct migration feature also grants the user more granular progress and error reporting back in the user interface to make it easier to debug what went wrong with the migration.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"date":"Feb 24, 2021","title":"Migrating Faster with Direct Migration","description":"In MTC 1.4.0, a new feature called Direct Migration is available that will yield significant time savings for most customers migrating persistent volumes and/or internal images.","tags":["MTC"],"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#182828","images":{"fallback":{"src":"/static/4825c880fb32f5e9aeab8ed6a06451f8/fac98/banner.jpg","srcSet":"/static/4825c880fb32f5e9aeab8ed6a06451f8/ffae8/banner.jpg 750w,\n/static/4825c880fb32f5e9aeab8ed6a06451f8/fac98/banner.jpg 900w","sizes":"100vw"},"sources":[{"srcSet":"/static/4825c880fb32f5e9aeab8ed6a06451f8/5f165/banner.webp 750w,\n/static/4825c880fb32f5e9aeab8ed6a06451f8/bf751/banner.webp 900w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.44999999999999996}}}}}},"pageContext":{"id":"54d9c5f1-8225-54fa-930c-37662b36595a","slug":"direct-migration/","__params":{"slug":"direct-migration"}}},"staticQueryHashes":["1129262270","1953051027","2744294623","287575728","3649515864","3663114508","4063661203"]}